{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Pranati\\\\Mini project\\\\betterfund-crowdfunding-in-blockchain-main\\\\pages\\\\campaign\\\\[id]\\\\requests\\\\index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Head from \"next/head\";\nimport NextLink from \"next/link\";\nimport NextImage from \"next/image\";\nimport { useRouter } from \"next/router\";\nimport { getETHPrice, getWEIPriceInUSD } from \"../../../../lib/getETHPrice\";\nimport { Heading, useBreakpointValue, useColorModeValue, Text, Button, Flex, Container, SimpleGrid, Box, Spacer, Table, Thead, Tbody, Tooltip, Tr, Th, Td, TableCaption, Skeleton, Alert, AlertIcon, AlertDescription, HStack, Stack, Link } from \"@chakra-ui/react\";\nimport { ArrowBackIcon, InfoIcon, CheckCircleIcon, WarningIcon } from \"@chakra-ui/icons\";\nimport web3 from \"../../../../smart-contract/web3\";\nimport Campaign from \"../../../../smart-contract/campaign\";\nimport factory from \"../../../../smart-contract/factory\";\nexport async function getServerSideProps({\n  params\n}) {\n  const campaignId = params.id;\n  const campaign = Campaign(campaignId);\n  const requestCount = await campaign.methods.getRequestsCount().call();\n  const approversCount = await campaign.methods.approversCount().call();\n  const summary = await campaign.methods.getSummary().call();\n  const ETHPrice = await getETHPrice();\n  return {\n    props: {\n      campaignId,\n      requestCount,\n      approversCount,\n      balance: summary[1],\n      name: summary[5],\n      ETHPrice\n    }\n  };\n}\n\nconst RequestRow = ({\n  id,\n  request,\n  approversCount,\n  campaignId,\n  disabled,\n  ETHPrice\n}) => {\n  const router = useRouter();\n  const readyToFinalize = request.approvalCount > approversCount / 2;\n  const {\n    0: errorMessageApprove,\n    1: setErrorMessageApprove\n  } = useState();\n  const {\n    0: loadingApprove,\n    1: setLoadingApprove\n  } = useState(false);\n  const {\n    0: errorMessageFinalize,\n    1: setErrorMessageFinalize\n  } = useState();\n  const {\n    0: loadingFinalize,\n    1: setLoadingFinalize\n  } = useState(false);\n\n  const onApprove = async () => {\n    setLoadingApprove(true);\n\n    try {\n      const campaign = Campaign(campaignId);\n      const accounts = await web3.eth.getAccounts();\n      await campaign.methods.approveRequest(id).send({\n        from: accounts[0]\n      });\n      router.reload();\n    } catch (err) {\n      setErrorMessageApprove(err.message);\n    } finally {\n      setLoadingApprove(false);\n    }\n  };\n\n  const onFinalize = async () => {\n    setLoadingFinalize(true);\n\n    try {\n      const campaign = Campaign(campaignId);\n      const accounts = await web3.eth.getAccounts();\n      await campaign.methods.finalizeRequest(id).send({\n        from: accounts[0]\n      });\n      router.reload();\n    } catch (err) {\n      setErrorMessageFinalize(err.message);\n    } finally {\n      setLoadingFinalize(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Tr, {\n    bg: readyToFinalize && !request.complete ? useColorModeValue(\"purple.100\", \"purple.700\") : useColorModeValue(\"gray.100\", \"gray.700\"),\n    opacity: request.complete ? \"0.4\" : \"1\",\n    children: [/*#__PURE__*/_jsxDEV(Td, {\n      children: [id, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Td, {\n      children: request.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Td, {\n      isNumeric: true,\n      children: [web3.utils.fromWei(request.value, \"ether\"), \"ETH ($\", getWEIPriceInUSD(ETHPrice, request.value), \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Td, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        color: \"purple.500\",\n        href: `https://rinkeby.etherscan.io/address/${request.recipient}`,\n        isExternal: true,\n        children: [\" \", request.recipient.substr(0, 10) + \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Td, {\n      children: [request.approvalCount, \"/\", approversCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Td, {\n      children: /*#__PURE__*/_jsxDEV(HStack, {\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n          label: errorMessageApprove,\n          bg: useColorModeValue(\"white\", \"gray.700\"),\n          placement: \"top\",\n          color: useColorModeValue(\"gray.800\", \"white\"),\n          fontSize: \"1em\",\n          children: /*#__PURE__*/_jsxDEV(WarningIcon, {\n            color: useColorModeValue(\"red.600\", \"red.300\"),\n            display: errorMessageApprove ? \"inline-block\" : \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), request.complete ? /*#__PURE__*/_jsxDEV(Tooltip, {\n          label: \"This Request has been finalized & withdrawn to the recipient,it may then have less no of approvers\",\n          bg: useColorModeValue(\"white\", \"gray.700\"),\n          placement: \"top\",\n          color: useColorModeValue(\"gray.800\", \"white\"),\n          fontSize: \"1em\",\n          children: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            color: useColorModeValue(\"green.600\", \"green.300\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: \"yellow\",\n          variant: \"outline\",\n          _hover: {\n            bg: \"yellow.600\",\n            color: \"white\"\n          },\n          onClick: onApprove,\n          isDisabled: disabled || request.approvalCount == approversCount,\n          isLoading: loadingApprove,\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Td, {\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        label: errorMessageFinalize,\n        bg: useColorModeValue(\"white\", \"gray.700\"),\n        placement: \"top\",\n        color: useColorModeValue(\"gray.800\", \"white\"),\n        fontSize: \"1em\",\n        children: /*#__PURE__*/_jsxDEV(WarningIcon, {\n          color: useColorModeValue(\"red.600\", \"red.300\"),\n          display: errorMessageFinalize ? \"inline-block\" : \"none\",\n          mr: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), request.complete ? /*#__PURE__*/_jsxDEV(Tooltip, {\n        label: \"This Request has been finalized & withdrawn to the recipient,it may then have less no of approvers\",\n        bg: useColorModeValue(\"white\", \"gray.700\"),\n        placement: \"top\",\n        color: useColorModeValue(\"gray.800\", \"white\"),\n        fontSize: \"1em\",\n        children: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          color: useColorModeValue(\"green.600\", \"green.300\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(HStack, {\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: \"green\",\n          variant: \"outline\",\n          _hover: {\n            bg: \"green.600\",\n            color: \"white\"\n          },\n          isDisabled: disabled || !request.complete && !readyToFinalize,\n          onClick: onFinalize,\n          isLoading: loadingFinalize,\n          children: \"Finalize\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          label: \"This Request is ready to be Finalized because it has been approved by 50% Approvers\",\n          bg: useColorModeValue(\"white\", \"gray.700\"),\n          placement: \"top\",\n          color: useColorModeValue(\"gray.800\", \"white\"),\n          fontSize: \"1.2em\",\n          children: /*#__PURE__*/_jsxDEV(InfoIcon, {\n            as: \"span\",\n            color: useColorModeValue(\"purple.800\", \"white\"),\n            display: readyToFinalize && !request.complete ? \"inline-block\" : \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n\nexport default function Requests({\n  campaignId,\n  requestCount,\n  approversCount,\n  balance,\n  name,\n  ETHPrice\n}) {\n  const {\n    0: requestsList,\n    1: setRequestsList\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(true);\n  const {\n    0: FundNotAvailable,\n    1: setFundNotAvailable\n  } = useState(false);\n  const campaign = Campaign(campaignId);\n\n  async function getRequests() {\n    try {\n      const requests = await Promise.all(Array(parseInt(requestCount)).fill().map((element, index) => {\n        return campaign.methods.requests(index).call();\n      }));\n      console.log(\"requests\", requests);\n      setRequestsList(requests);\n      setIsLoading(false);\n      return requests;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  useEffect(() => {\n    if (balance == 0) {\n      setFundNotAvailable(true);\n    }\n\n    getRequests();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Campaign Withdrawal Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Create a Withdrawal Request\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"icon\",\n        href: \"/logo.svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        px: {\n          base: \"4\",\n          md: \"12\"\n        },\n        maxW: \"7xl\",\n        align: \"left\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          flexDirection: {\n            base: \"column\",\n            md: \"row\"\n          },\n          py: 4,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            py: \"4\",\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"lg\",\n              color: \"purple.400\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowBackIcon, {\n                mr: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(NextLink, {\n                href: `/campaign/${campaignId}`,\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            py: \"4\",\n            children: [\"View Campaign Balance :\", \" \", /*#__PURE__*/_jsxDEV(Text, {\n              as: \"span\",\n              fontWeight: \"bold\",\n              fontSize: \"lg\",\n              children: balance > 0 ? web3.utils.fromWei(balance, \"ether\") : \"0, Donate Now!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              as: \"span\",\n              display: balance > 0 ? \"inline\" : \"none\",\n              pr: 2,\n              fontWeight: \"bold\",\n              fontSize: \"lg\",\n              children: [\" \", \"ETH\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              as: \"span\",\n              display: balance > 0 ? \"inline\" : \"none\",\n              fontWeight: \"normal\",\n              color: useColorModeValue(\"gray.500\", \"gray.200\"),\n              children: [\"($\", getWEIPriceInUSD(ETHPrice, balance), \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), FundNotAvailable ? /*#__PURE__*/_jsxDEV(Alert, {\n          status: \"error\",\n          my: 4,\n          children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n            children: \"The Current Balance of the Campaign is 0, Please Contribute to approve and finalize Requests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), requestsList.length > 0 ? /*#__PURE__*/_jsxDEV(Container, {\n        px: {\n          base: \"4\",\n          md: \"12\"\n        },\n        maxW: \"7xl\",\n        align: \"left\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          flexDirection: {\n            base: \"column\",\n            lg: \"row\"\n          },\n          py: 4,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            py: \"2\",\n            pr: \"2\",\n            children: /*#__PURE__*/_jsxDEV(Heading, {\n              textAlign: useBreakpointValue({\n                base: \"left\"\n              }),\n              fontFamily: \"heading\",\n              color: useColorModeValue(\"gray.800\", \"white\"),\n              as: \"h5\",\n              isTruncated: true,\n              maxW: \"3xl\",\n              children: [\"Withdrawal Requests for \", name, \" Campaign\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            py: \"2\",\n            children: /*#__PURE__*/_jsxDEV(NextLink, {\n              href: `/campaign/${campaignId}/requests/new`,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                display: {\n                  sm: \"inline-flex\"\n                },\n                justify: \"flex-end\",\n                fontSize: \"md\",\n                fontWeight: 600,\n                color: \"white\",\n                bg: \"purple.400\",\n                href: \"#\",\n                _hover: {\n                  bg: \"purple.300\"\n                },\n                children: \"Add Withdrawal Request\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Box, {\n          overflowX: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(Thead, {\n              children: /*#__PURE__*/_jsxDEV(Tr, {\n                children: [/*#__PURE__*/_jsxDEV(Th, {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  w: \"30%\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  isNumeric: true,\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  maxW: \"12%\",\n                  isTruncated: true,\n                  children: \"Recipient Wallet Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Approval Count \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Approve \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Finalize \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n              children: requestsList.map((request, index) => {\n                return /*#__PURE__*/_jsxDEV(RequestRow, {\n                  id: index,\n                  request: request,\n                  approversCount: approversCount,\n                  campaignId: campaignId,\n                  disabled: FundNotAvailable,\n                  ETHPrice: ETHPrice\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCaption, {\n              textAlign: \"left\",\n              ml: \"-2\",\n              children: [\"Found \", requestCount, \" Requests\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Container, {\n          px: {\n            base: \"4\",\n            md: \"12\"\n          },\n          maxW: \"7xl\",\n          align: \"left\",\n          display: isLoading ? \"block\" : \"none\",\n          children: /*#__PURE__*/_jsxDEV(SimpleGrid, {\n            rows: {\n              base: 3\n            },\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n              height: \"2rem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              height: \"5rem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              height: \"5rem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              height: \"5rem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          maxW: \"lg\",\n          align: \"center\",\n          display: requestsList.length === 0 && !isLoading ? \"block\" : \"none\",\n          children: /*#__PURE__*/_jsxDEV(SimpleGrid, {\n            row: true,\n            spacing: 2,\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(Stack, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(NextImage, {\n                src: \"/static/no-requests.png\",\n                alt: \"no-request\",\n                width: \"150\",\n                height: \"150\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Heading, {\n              textAlign: \"center\",\n              color: useColorModeValue(\"gray.800\", \"white\"),\n              as: \"h4\",\n              size: \"md\",\n              children: [\"No Requests yet for \", name, \" Campaign\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              textAlign: useBreakpointValue({\n                base: \"center\"\n              }),\n              color: useColorModeValue(\"gray.600\", \"gray.300\"),\n              fontSize: \"sm\",\n              children: \"Create a Withdrawal Request to Withdraw funds from the Campaign\\uD83D\\uDE04\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              fontSize: \"md\",\n              fontWeight: 600,\n              color: \"white\",\n              bg: \"purple.400\",\n              _hover: {\n                bg: \"purple.300\"\n              },\n              children: /*#__PURE__*/_jsxDEV(NextLink, {\n                href: `/campaign/${campaignId}/requests/new`,\n                children: \"Create Withdrawal Request\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              fontSize: \"md\",\n              fontWeight: 600,\n              color: \"white\",\n              bg: \"gray.400\",\n              _hover: {\n                bg: \"gray.300\"\n              },\n              children: /*#__PURE__*/_jsxDEV(NextLink, {\n                href: `/campaign/${campaignId}/`,\n                children: \"Go to Campaign\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["C:/Pranati/Mini project/betterfund-crowdfunding-in-blockchain-main/pages/campaign/[id]/requests/index.js"],"names":["React","useState","useEffect","Head","NextLink","NextImage","useRouter","getETHPrice","getWEIPriceInUSD","Heading","useBreakpointValue","useColorModeValue","Text","Button","Flex","Container","SimpleGrid","Box","Spacer","Table","Thead","Tbody","Tooltip","Tr","Th","Td","TableCaption","Skeleton","Alert","AlertIcon","AlertDescription","HStack","Stack","Link","ArrowBackIcon","InfoIcon","CheckCircleIcon","WarningIcon","web3","Campaign","factory","getServerSideProps","params","campaignId","id","campaign","requestCount","methods","getRequestsCount","call","approversCount","summary","getSummary","ETHPrice","props","balance","name","RequestRow","request","disabled","router","readyToFinalize","approvalCount","errorMessageApprove","setErrorMessageApprove","loadingApprove","setLoadingApprove","errorMessageFinalize","setErrorMessageFinalize","loadingFinalize","setLoadingFinalize","onApprove","accounts","eth","getAccounts","approveRequest","send","from","reload","err","message","onFinalize","finalizeRequest","complete","description","utils","fromWei","value","recipient","substr","bg","color","Requests","requestsList","setRequestsList","isLoading","setIsLoading","FundNotAvailable","setFundNotAvailable","getRequests","requests","Promise","all","Array","parseInt","fill","map","element","index","console","log","e","base","md","length","lg","sm"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Head from \"next/head\";\nimport NextLink from \"next/link\";\nimport NextImage from \"next/image\";\nimport { useRouter } from \"next/router\";\nimport { getETHPrice, getWEIPriceInUSD } from \"../../../../lib/getETHPrice\";\nimport {\n  Heading,\n  useBreakpointValue,\n  useColorModeValue,\n  Text,\n  Button,\n  Flex,\n  Container,\n  SimpleGrid,\n  Box,\n  Spacer,\n  Table,\n  Thead,\n  Tbody,\n  Tooltip,\n  Tr,\n  Th,\n  Td,\n  TableCaption,\n  Skeleton,\n  Alert,\n  AlertIcon,\n  AlertDescription,\n  HStack,\n  Stack,\n  Link,\n} from \"@chakra-ui/react\";\nimport {\n  ArrowBackIcon,\n  InfoIcon,\n  CheckCircleIcon,\n  WarningIcon,\n} from \"@chakra-ui/icons\";\nimport web3 from \"../../../../smart-contract/web3\";\nimport Campaign from \"../../../../smart-contract/campaign\";\nimport factory from \"../../../../smart-contract/factory\";\n\nexport async function getServerSideProps({ params }) {\n  const campaignId = params.id;\n  const campaign = Campaign(campaignId);\n  const requestCount = await campaign.methods.getRequestsCount().call();\n  const approversCount = await campaign.methods.approversCount().call();\n  const summary = await campaign.methods.getSummary().call();\n  const ETHPrice = await getETHPrice();\n\n  return {\n    props: {\n      campaignId,\n      requestCount,\n      approversCount,\n      balance: summary[1],\n      name: summary[5],\n      ETHPrice,\n    },\n  };\n}\n\nconst RequestRow = ({\n  id,\n  request,\n  approversCount,\n  campaignId,\n  disabled,\n  ETHPrice,\n}) => {\n  const router = useRouter();\n  const readyToFinalize = request.approvalCount > approversCount / 2;\n  const [errorMessageApprove, setErrorMessageApprove] = useState();\n  const [loadingApprove, setLoadingApprove] = useState(false);\n  const [errorMessageFinalize, setErrorMessageFinalize] = useState();\n  const [loadingFinalize, setLoadingFinalize] = useState(false);\n  const onApprove = async () => {\n    setLoadingApprove(true);\n    try {\n      const campaign = Campaign(campaignId);\n      const accounts = await web3.eth.getAccounts();\n      await campaign.methods.approveRequest(id).send({\n        from: accounts[0],\n      });\n      router.reload();\n    } catch (err) {\n      setErrorMessageApprove(err.message);\n    } finally {\n      setLoadingApprove(false);\n    }\n  };\n\n  const onFinalize = async () => {\n    setLoadingFinalize(true);\n    try {\n      const campaign = Campaign(campaignId);\n      const accounts = await web3.eth.getAccounts();\n      await campaign.methods.finalizeRequest(id).send({\n        from: accounts[0],\n      });\n      router.reload();\n    } catch (err) {\n      setErrorMessageFinalize(err.message);\n    } finally {\n      setLoadingFinalize(false);\n    }\n  };\n\n  return (\n    <Tr\n      bg={\n        readyToFinalize && !request.complete\n          ? useColorModeValue(\"purple.100\", \"purple.700\")\n          : useColorModeValue(\"gray.100\", \"gray.700\")\n      }\n      opacity={request.complete ? \"0.4\" : \"1\"}\n    >\n      <Td>{id} </Td>\n      <Td>{request.description}</Td>\n      <Td isNumeric>\n        {web3.utils.fromWei(request.value, \"ether\")}ETH ($\n        {getWEIPriceInUSD(ETHPrice, request.value)})\n      </Td>\n      <Td>\n        <Link\n          color=\"purple.500\"\n          href={`https://rinkeby.etherscan.io/address/${request.recipient}`}\n          isExternal\n        >\n          {\" \"}\n          {request.recipient.substr(0, 10) + \"...\"}\n        </Link>\n      </Td>\n      <Td>\n        {request.approvalCount}/{approversCount}\n      </Td>\n      <Td>\n        <HStack spacing={2}>\n          <Tooltip\n            label={errorMessageApprove}\n            bg={useColorModeValue(\"white\", \"gray.700\")}\n            placement={\"top\"}\n            color={useColorModeValue(\"gray.800\", \"white\")}\n            fontSize={\"1em\"}\n          >\n            <WarningIcon\n              color={useColorModeValue(\"red.600\", \"red.300\")}\n              display={errorMessageApprove ? \"inline-block\" : \"none\"}\n            />\n          </Tooltip>\n          {request.complete ? (\n            <Tooltip\n              label=\"This Request has been finalized & withdrawn to the recipient,it may then have less no of approvers\"\n              bg={useColorModeValue(\"white\", \"gray.700\")}\n              placement={\"top\"}\n              color={useColorModeValue(\"gray.800\", \"white\")}\n              fontSize={\"1em\"}\n            >\n              <CheckCircleIcon\n                color={useColorModeValue(\"green.600\", \"green.300\")}\n              />\n            </Tooltip>\n          ) : (\n            <Button\n              colorScheme=\"yellow\"\n              variant=\"outline\"\n              _hover={{\n                bg: \"yellow.600\",\n                color: \"white\",\n              }}\n              onClick={onApprove}\n              isDisabled={disabled || request.approvalCount == approversCount}\n              isLoading={loadingApprove}\n            >\n              Approve\n            </Button>\n          )}\n        </HStack>\n      </Td>\n      <Td>\n        <Tooltip\n          label={errorMessageFinalize}\n          bg={useColorModeValue(\"white\", \"gray.700\")}\n          placement={\"top\"}\n          color={useColorModeValue(\"gray.800\", \"white\")}\n          fontSize={\"1em\"}\n        >\n          <WarningIcon\n            color={useColorModeValue(\"red.600\", \"red.300\")}\n            display={errorMessageFinalize ? \"inline-block\" : \"none\"}\n            mr=\"2\"\n          />\n        </Tooltip>\n        {request.complete ? (\n          <Tooltip\n              label=\"This Request has been finalized & withdrawn to the recipient,it may then have less no of approvers\"\n            bg={useColorModeValue(\"white\", \"gray.700\")}\n            placement={\"top\"}\n            color={useColorModeValue(\"gray.800\", \"white\")}\n            fontSize={\"1em\"}\n          >\n            <CheckCircleIcon\n              color={useColorModeValue(\"green.600\", \"green.300\")}\n            />\n          </Tooltip>\n        ) : (\n          <HStack spacing={2}>\n            <Button\n              colorScheme=\"green\"\n              variant=\"outline\"\n              _hover={{\n                bg: \"green.600\",\n                color: \"white\",\n              }}\n              isDisabled={disabled || (!request.complete && !readyToFinalize)}\n              onClick={onFinalize}\n              isLoading={loadingFinalize}\n            >\n              Finalize\n            </Button>\n\n            <Tooltip\n              label=\"This Request is ready to be Finalized because it has been approved by 50% Approvers\"\n              bg={useColorModeValue(\"white\", \"gray.700\")}\n              placement={\"top\"}\n              color={useColorModeValue(\"gray.800\", \"white\")}\n              fontSize={\"1.2em\"}\n            >\n              <InfoIcon\n                as=\"span\"\n                color={useColorModeValue(\"purple.800\", \"white\")}\n                display={\n                  readyToFinalize && !request.complete ? \"inline-block\" : \"none\"\n                }\n              />\n            </Tooltip>\n          </HStack>\n        )}\n      </Td>\n    </Tr>\n  );\n};\n\nexport default function Requests({\n  campaignId,\n  requestCount,\n  approversCount,\n  balance,\n  name,\n  ETHPrice,\n}) {\n  const [requestsList, setRequestsList] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [FundNotAvailable, setFundNotAvailable] = useState(false);\n  const campaign = Campaign(campaignId);\n  async function getRequests() {\n    try {\n      const requests = await Promise.all(\n        Array(parseInt(requestCount))\n          .fill()\n          .map((element, index) => {\n            return campaign.methods.requests(index).call();\n          })\n      );\n\n      console.log(\"requests\", requests);\n      setRequestsList(requests);\n      setIsLoading(false);\n      return requests;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  useEffect(() => {\n    if (balance == 0) {\n      setFundNotAvailable(true);\n    }\n    getRequests();\n  }, []);\n\n  return (\n    <div>\n      <Head>\n        <title>Campaign Withdrawal Requests</title>\n        <meta name=\"description\" content=\"Create a Withdrawal Request\" />\n        <link rel=\"icon\" href=\"/logo.svg\" />\n      </Head>\n\n      <main>\n        <Container px={{ base: \"4\", md: \"12\" }} maxW={\"7xl\"} align={\"left\"}>\n          <Flex flexDirection={{ base: \"column\", md: \"row\" }} py={4}>\n            <Box py=\"4\">\n              <Text fontSize={\"lg\"} color={\"purple.400\"}>\n                <ArrowBackIcon mr={2} />\n                <NextLink href={`/campaign/${campaignId}`}>\n                  Back\n                </NextLink>\n              </Text>\n            </Box>\n            <Spacer />\n            <Box py=\"4\">\n              View Campaign Balance :{\" \"}\n              <Text as=\"span\" fontWeight={\"bold\"} fontSize=\"lg\">\n                {balance > 0\n                  ? web3.utils.fromWei(balance, \"ether\")\n                  : \"0, Donate Now!\"}\n              </Text>\n              <Text\n                as=\"span\"\n                display={balance > 0 ? \"inline\" : \"none\"}\n                pr={2}\n                fontWeight={\"bold\"}\n                fontSize=\"lg\"\n              >\n                {\" \"}\n                ETH\n              </Text>\n              <Text\n                as=\"span\"\n                display={balance > 0 ? \"inline\" : \"none\"}\n                fontWeight={\"normal\"}\n                color={useColorModeValue(\"gray.500\", \"gray.200\")}\n              >\n                (${getWEIPriceInUSD(ETHPrice, balance)})\n              </Text>\n            </Box>\n          </Flex>\n          {FundNotAvailable ? (\n            <Alert status=\"error\" my={4}>\n              <AlertIcon />\n              <AlertDescription>\n                The Current Balance of the Campaign is 0, Please Contribute to approve and finalize Requests\n              </AlertDescription>\n            </Alert>\n          ) : null}\n        </Container>\n        {requestsList.length > 0 ? (\n          <Container px={{ base: \"4\", md: \"12\" }} maxW={\"7xl\"} align={\"left\"}>\n            <Flex flexDirection={{ base: \"column\", lg: \"row\" }} py={4}>\n              <Box py=\"2\" pr=\"2\">\n                <Heading\n                  textAlign={useBreakpointValue({ base: \"left\" })}\n                  fontFamily={\"heading\"}\n                  color={useColorModeValue(\"gray.800\", \"white\")}\n                  as=\"h5\"\n                  isTruncated\n                  maxW={\"3xl\"}\n                >\n                  Withdrawal Requests for {name} Campaign\n                </Heading>\n              </Box>\n              <Spacer />\n              <Box py=\"2\">\n                <NextLink href={`/campaign/${campaignId}/requests/new`}>\n                  <Button\n                    display={{ sm: \"inline-flex\" }}\n                    justify={\"flex-end\"}\n                    fontSize={\"md\"}\n                    fontWeight={600}\n                    color={\"white\"}\n                    bg={\"purple.400\"}\n                    href={\"#\"}\n                    _hover={{\n                      bg: \"purple.300\",\n                    }}\n                  >\n                    Add Withdrawal Request\n                  </Button>\n                </NextLink>\n              </Box>\n            </Flex>{\" \"}\n            <Box overflowX=\"auto\">\n              <Table>\n                <Thead>\n                  <Tr>\n                    <Th>ID</Th>\n                    <Th w=\"30%\">Description</Th>\n                    <Th isNumeric>Amount</Th>\n                    <Th maxW=\"12%\" isTruncated>\n                      Recipient Wallet Address\n                    </Th>\n                    <Th>Approval Count </Th>\n                    <Th>Approve </Th>\n                    <Th>Finalize </Th>\n                  </Tr>\n                </Thead>\n                <Tbody>\n                  {requestsList.map((request, index) => {\n                    return (\n                      <RequestRow\n                        key={index}\n                        id={index}\n                        request={request}\n                        approversCount={approversCount}\n                        campaignId={campaignId}\n                        disabled={FundNotAvailable}\n                        ETHPrice={ETHPrice}\n                      />\n                    );\n                  })}\n                </Tbody>\n                <TableCaption textAlign=\"left\" ml=\"-2\">\n                  Found {requestCount} Requests\n                </TableCaption>\n              </Table>\n            </Box>\n          </Container>\n        ) : (\n          <div>\n            <Container\n              px={{ base: \"4\", md: \"12\" }}\n              maxW={\"7xl\"}\n              align={\"left\"}\n              display={isLoading ? \"block\" : \"none\"}\n            >\n              <SimpleGrid rows={{ base: 3 }} spacing={2}>\n                <Skeleton height=\"2rem\" />\n                <Skeleton height=\"5rem\" />\n                <Skeleton height=\"5rem\" />\n                <Skeleton height=\"5rem\" />\n              </SimpleGrid>\n            </Container>\n            <Container\n              maxW={\"lg\"}\n              align={\"center\"}\n              display={\n                requestsList.length === 0 && !isLoading ? \"block\" : \"none\"\n              }\n            >\n              <SimpleGrid row spacing={2} align=\"center\">\n                <Stack align=\"center\">\n                  <NextImage\n                    src=\"/static/no-requests.png\"\n                    alt=\"no-request\"\n                    width=\"150\"\n                    height=\"150\"\n                  />\n                </Stack>\n                <Heading\n                  textAlign={\"center\"}\n                  color={useColorModeValue(\"gray.800\", \"white\")}\n                  as=\"h4\"\n                  size=\"md\"\n                >\n                  No Requests yet for {name} Campaign\n                </Heading>\n                <Text\n                  textAlign={useBreakpointValue({ base: \"center\" })}\n                  color={useColorModeValue(\"gray.600\", \"gray.300\")}\n                  fontSize=\"sm\"\n                >\n                  Create a Withdrawal Request to Withdraw funds from the\n                  Campaign😄\n                </Text>\n\n                <Button\n                  fontSize={\"md\"}\n                  fontWeight={600}\n                  color={\"white\"}\n                  bg={\"purple.400\"}\n                  _hover={{\n                    bg: \"purple.300\",\n                  }}\n                >\n                  <NextLink href={`/campaign/${campaignId}/requests/new`}>\n                    Create Withdrawal Request\n                  </NextLink>\n                </Button>\n\n                <Button\n                  fontSize={\"md\"}\n                  fontWeight={600}\n                  color={\"white\"}\n                  bg={\"gray.400\"}\n                  _hover={{\n                    bg: \"gray.300\",\n                  }}\n                >\n                  <NextLink href={`/campaign/${campaignId}/`}>\n                    Go to Campaign\n                  </NextLink>\n                </Button>\n              </SimpleGrid>\n            </Container>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}